{"mappings":"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","sources":["src/modules/helper.js","src/modules/drag-element.js","src/modules/select-area.js","src/index.js"],"sourcesContent":["export function symbolCollapse(current, target) {\n  return (\n    current.offsetLeft < target.offsetLeft + target.offsetWidth &&\n    current.offsetLeft + current.offsetWidth > target.offsetLeft &&\n    current.offsetTop < target.offsetTop + target.offsetHeight &&\n    current.offsetTop + current.offsetHeight > target.offsetTop\n  );\n}\n\nexport function frameCollapse(current, target) {\n  return (\n    current.offsetLeft < target.clientLeft ||\n    current.offsetLeft + current.offsetWidth > target.clientWidth ||\n    current.offsetTop < target.clientTop ||\n    current.offsetTop + current.offsetHeight > target.clientHeight\n  );\n}\n","import { frameCollapse, symbolCollapse } from './helper';\n\nfunction selectElement(elem) {\n  let startX = 0,\n    startY = 0,\n    endX = 0,\n    endY = 0,\n    dragAllow = false;\n  const symbolDrag = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.ctrlKey || e.buttons !== 1 || !dragAllow) return;\n\n    const selectedElements = document.querySelectorAll('.selected');\n\n    endX = startX - e.clientX;\n    endY = startY - e.clientY;\n\n    startX = e.clientX;\n    startY = e.clientY;\n\n    selectedElements.forEach(el => {\n      el.style.left = el.offsetLeft - endX + 'px';\n      el.style.top = el.offsetTop - endY + 'px';\n    });\n  };\n\n  const mouseUp = e => {\n    const unSelectedElements = document.querySelectorAll('.un-selected');\n    const selectedElements = document.querySelectorAll('.selected');\n    const dragArea = document.querySelector('.area-drag');\n    let collapse = false;\n\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.ctrlKey) return;\n\n    dragAllow = false;\n    document.onmouseup = null;\n    document.onmousemove = null;\n\n    if (selectedElements.length === 1) {\n      elem.classList.add('un-selected');\n      elem.classList.remove('selected');\n\n      if (frameCollapse(elem, dragArea)) {\n        elem.style.left = elem.dataset.homeX;\n        elem.style.top = elem.dataset.homeY;\n        return;\n      }\n\n      try {\n        unSelectedElements.forEach(unSelected => {\n          if (symbolCollapse(elem, unSelected)) {\n            elem.style.left = unSelected.offsetLeft + 'px';\n            elem.style.top = unSelected.offsetTop + 'px';\n            unSelected.style.left = elem.dataset.homeX;\n            unSelected.style.top = elem.dataset.homeY;\n            throw new Error();\n          }\n        });\n      } catch (error) {\n        return;\n      }\n    }\n\n    try {\n      selectedElements.forEach(selected => {\n        if (frameCollapse(selected, dragArea)) throw new Error();\n\n        unSelectedElements.forEach(unSelected => {\n          if (symbolCollapse(selected, unSelected)) throw new Error();\n        });\n      });\n    } catch (error) {\n      selectedElements.forEach(selected => {\n        selected.classList.add('un-selected');\n        selected.classList.remove('selected');\n        selected.style.left = selected.dataset.homeX;\n        selected.style.top = selected.dataset.homeY;\n      });\n      return;\n    }\n\n    selectedElements.forEach(selected => {\n      selected.classList.add('un-selected');\n      selected.classList.remove('selected');\n    });\n  };\n\n  const mouseDown = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const selectedElements = document.querySelectorAll('.selected');\n\n    if (e.ctrlKey) {\n      elem.classList.toggle('un-selected');\n      elem.classList.toggle('selected');\n    } else if (selectedElements.length < 1) {\n      elem.classList.toggle('un-selected');\n      elem.classList.toggle('selected');\n    }\n\n    elem.dataset.homeX = elem.offsetLeft + 'px';\n    elem.dataset.homeY = elem.offsetTop + 'px';\n\n    startX = e.clientX;\n    startY = e.clientY;\n    dragAllow = e.target.classList.contains('selected');\n\n    document.onmouseup = mouseUp;\n    document.onmousemove = symbolDrag;\n  };\n\n  elem.onmousedown = mouseDown;\n}\n\nexport default selectElement;\n","import { symbolCollapse } from './helper';\n\nfunction selectArea(area) {\n  let startX = 0,\n    startY = 0,\n    endX = 0,\n    endY = 0;\n\n  const areaFrame = document.querySelector('.area-frame');\n\n  const frameSelect = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    endX =\n      e.clientX - area.offsetLeft < area.clientWidth\n        ? e.clientX - area.offsetLeft - startX\n        : endX;\n\n    endY =\n      e.clientY - area.offsetTop < area.clientHeight\n        ? e.clientY - area.offsetTop - startY\n        : endY;\n\n    areaFrame.style.width = endX + 'px';\n    areaFrame.style.height = endY + 'px';\n  };\n\n  const mouseUp = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const unSelectedElements = document.querySelectorAll('.un-selected');\n\n    unSelectedElements.forEach(selected => {\n      if (symbolCollapse(selected, areaFrame)) {\n        selected.classList.remove('un-selected');\n        selected.classList.add('selected');\n\n        selected.dataset.homeX = selected.offsetLeft + 'px';\n        selected.dataset.homeY = selected.offsetTop + 'px';\n      }\n    });\n\n    areaFrame.style.width = '0px';\n    areaFrame.style.height = '0px';\n    areaFrame.style.left = '0px';\n    areaFrame.style.top = '0px';\n    document.onmouseup = null;\n    document.onmousemove = null;\n  };\n\n  const mouseDown = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const selectedElements = document.querySelectorAll('.selected');\n    selectedElements.forEach(el => {\n      el.classList.remove('selected');\n      el.classList.add('un-selected');\n    });\n\n    startX = e.clientX - area.offsetLeft;\n    startY = e.clientY - area.offsetTop;\n\n    areaFrame.style.left = startX + 'px';\n    areaFrame.style.top = startY + 'px';\n    document.onmouseup = mouseUp;\n    document.onmousemove = frameSelect;\n  };\n\n  area.onmousedown = mouseDown;\n}\n\nexport default selectArea;\n","import selectElement from './modules/drag-element';\nimport selectArea from './modules/select-area';\n\nconst areaDrag = document.querySelector('.area-drag');\nconst inputSymbols = document.getElementById('symbols');\nconst generateButton = document.getElementById('generate');\n\ninputSymbols.oninput = () => {\n  if (inputSymbols.value.length < 1) {\n    generateButton.disabled = true;\n  } else generateButton.disabled = false;\n};\n\ngenerateButton.onclick = () => {\n  const content = inputSymbols.value\n    .trim()\n    .split('')\n    .reduce(\n      (acc, s, i) =>\n        acc +\n        `<div class=\"un-selected symbol-wrapper\" \n              style=\"left:${i * 50 + 10}px; top:20px\">\n            <span class=\"symbol-content\">${s}</span> \n         </div>`,\n      '<div class=\"area-frame\"></div>'\n    );\n\n  areaDrag.innerHTML = content;\n\n  const symbolElements = document.querySelectorAll('.un-selected');\n  symbolElements?.forEach(el => {\n    selectElement(el);\n  });\n\n  selectArea(areaDrag);\n};\n"],"names":["$075f3702d7bc85c8$export$184efcd043fee654","current","target","offsetLeft","offsetWidth","offsetTop","offsetHeight","$075f3702d7bc85c8$export$be90b058241e3ec6","clientLeft","clientWidth","clientTop","clientHeight","$e396c30ef1793c03$export$2e2bcd8739ae039","elem","startX","startY","endX","endY","dragAllow","symbolDrag","e","preventDefault","stopPropagation","ctrlKey","buttons","selectedElements","document","querySelectorAll","clientX","clientY","forEach","el","style","left","top","mouseUp","unSelectedElements","dragArea","querySelector","onmouseup","onmousemove","length","classList","add","remove","dataset","homeX","homeY","unSelected","Error","error","selected","onmousedown","toggle","contains","$1a0db58ef2404d04$export$2e2bcd8739ae039","area","areaFrame","frameSelect","width","height","$1f0dc3b9307be026$var$areaDrag","$1f0dc3b9307be026$var$inputSymbols","getElementById","$1f0dc3b9307be026$var$generateButton","oninput","value","disabled","onclick","content","trim","split","reduce","acc","s","i","innerHTML","symbolElements"],"version":3,"file":"index.6efb20f1.js.map"}