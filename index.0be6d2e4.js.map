{"mappings":"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","sources":["src/modules/helper.js","src/index.js","src/modules/select-area.js","src/modules/drag-element.js"],"sourcesContent":["export function symbolCollapse(current, target) {\n  return (\n    current.offsetLeft < target.offsetLeft + target.offsetWidth &&\n    current.offsetLeft + current.offsetWidth > target.offsetLeft &&\n    current.offsetTop < target.offsetTop + target.offsetHeight &&\n    current.offsetTop + current.offsetHeight > target.offsetTop\n  );\n}\n\nexport function frameCollapse(current, target) {\n  return (\n    current.offsetLeft < target.clientLeft ||\n    current.offsetLeft + current.offsetWidth > target.clientWidth ||\n    current.offsetTop < target.clientTop ||\n    current.offsetTop + current.offsetHeight > target.clientHeight\n  );\n}\n","import selectElement from './modules/drag-element';\nimport selectArea from './modules/select-area';\n\nconst areaDrag = document.querySelector('.area-drag');\nconst inputSymbols = document.getElementById('symbols');\nconst generateButton = document.getElementById('generate');\n\ninputSymbols.oninput = () => {\n  if (inputSymbols.value.length < 1) {\n    generateButton.disabled = true;\n  } else generateButton.disabled = false;\n};\n\ngenerateButton.onclick = () => {\n  const content = inputSymbols.value\n    .trim()\n    .split('')\n    .reduce(\n      (acc, s, i) =>\n        acc +\n        `<div class=\"un-selected symbol-wrapper\" \n              style=\"left:${i * 50 + 10}px; top:20px\">\n            <span class=\"symbol-content\">${s}</span> \n         </div>`,\n      '<div class=\"area-frame\"></div>'\n    );\n\n  areaDrag.innerHTML = content;\n\n  const symbolElements = document.querySelectorAll('.un-selected');\n  symbolElements?.forEach(el => {\n    selectElement(el);\n  });\n\n  selectArea(areaDrag);\n};\n","import { symbolCollapse } from './helper';\n\nfunction selectArea(area) {\n  let startX = 0,\n    startY = 0,\n    endX = 0,\n    endY = 0;\n\n  const areaFrame = document.querySelector('.area-frame');\n\n  const frameSelect = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    endX =\n      e.clientX - area.offsetLeft < area.clientWidth\n        ? e.clientX - area.offsetLeft - startX\n        : endX;\n\n    endY =\n      e.clientY - area.offsetTop < area.clientHeight\n        ? e.clientY - area.offsetTop - startY\n        : endY;\n\n    areaFrame.style.width = endX + 'px';\n    areaFrame.style.height = endY + 'px';\n  };\n\n  const mouseUp = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const unSelectedElements = document.querySelectorAll('.un-selected');\n\n    unSelectedElements.forEach(selected => {\n      if (symbolCollapse(selected, areaFrame)) {\n        selected.classList.remove('un-selected');\n        selected.classList.add('selected');\n\n        selected.dataset.homeX = selected.offsetLeft + 'px';\n        selected.dataset.homeY = selected.offsetTop + 'px';\n      }\n    });\n\n    areaFrame.style.width = '0px';\n    areaFrame.style.height = '0px';\n    areaFrame.style.left = '0px';\n    areaFrame.style.top = '0px';\n    document.onmouseup = null;\n    document.onmousemove = null;\n  };\n\n  const mouseDown = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const selectedElements = document.querySelectorAll('.selected');\n    selectedElements.forEach(el => {\n      el.classList.remove('selected');\n      el.classList.add('un-selected');\n    });\n\n    startX = e.clientX - area.offsetLeft;\n    startY = e.clientY - area.offsetTop;\n\n    areaFrame.style.left = startX + 'px';\n    areaFrame.style.top = startY + 'px';\n    document.onmouseup = mouseUp;\n    document.onmousemove = frameSelect;\n  };\n\n  area.onmousedown = mouseDown;\n}\n\nexport default selectArea;\n","import { frameCollapse, symbolCollapse } from './helper';\n\nfunction selectElement(elem) {\n  let startX = 0,\n    startY = 0,\n    endX = 0,\n    endY = 0,\n    dragAllow = false;\n  const symbolDrag = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.ctrlKey || e.buttons !== 1 || !dragAllow) return;\n\n    const selectedElements = document.querySelectorAll('.selected');\n\n    endX = startX - e.clientX;\n    endY = startY - e.clientY;\n\n    startX = e.clientX;\n    startY = e.clientY;\n\n    selectedElements.forEach(el => {\n      el.style.left = el.offsetLeft - endX + 'px';\n      el.style.top = el.offsetTop - endY + 'px';\n    });\n  };\n\n  const mouseUp = e => {\n    const unSelectedElements = document.querySelectorAll('.un-selected');\n    const selectedElements = document.querySelectorAll('.selected');\n    const dragArea = document.querySelector('.area-drag');\n    let collapse = false;\n\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.ctrlKey) return;\n\n    dragAllow = false;\n    document.onmouseup = null;\n    document.onmousemove = null;\n\n    if (selectedElements.length === 1) {\n      elem.classList.add('un-selected');\n      elem.classList.remove('selected');\n\n      if (frameCollapse(elem, dragArea)) {\n        elem.style.left = elem.dataset.homeX;\n        elem.style.top = elem.dataset.homeY;\n        return;\n      }\n\n      try {\n        unSelectedElements.forEach(unSelected => {\n          if (symbolCollapse(elem, unSelected)) {\n            elem.style.left = unSelected.offsetLeft + 'px';\n            elem.style.top = unSelected.offsetTop + 'px';\n            unSelected.style.left = elem.dataset.homeX;\n            unSelected.style.top = elem.dataset.homeY;\n            throw new Error();\n          }\n        });\n      } catch (error) {\n        return;\n      }\n    }\n\n    try {\n      selectedElements.forEach(selected => {\n        if (frameCollapse(selected, dragArea)) throw new Error();\n\n        unSelectedElements.forEach(unSelected => {\n          if (symbolCollapse(selected, unSelected)) throw new Error();\n        });\n      });\n    } catch (error) {\n      selectedElements.forEach(selected => {\n        selected.classList.add('un-selected');\n        selected.classList.remove('selected');\n        selected.style.left = selected.dataset.homeX;\n        selected.style.top = selected.dataset.homeY;\n      });\n      return;\n    }\n\n    selectedElements.forEach(selected => {\n      selected.classList.add('un-selected');\n      selected.classList.remove('selected');\n    });\n  };\n\n  const mouseDown = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const selectedElements = document.querySelectorAll('.selected');\n\n    if (e.ctrlKey) {\n      elem.classList.toggle('un-selected');\n      elem.classList.toggle('selected');\n    } else if (selectedElements.length < 1) {\n      elem.classList.toggle('un-selected');\n      elem.classList.toggle('selected');\n    }\n\n    elem.dataset.homeX = elem.offsetLeft + 'px';\n    elem.dataset.homeY = elem.offsetTop + 'px';\n\n    startX = e.clientX;\n    startY = e.clientY;\n    dragAllow = e.target.classList.contains('selected');\n\n    document.onmouseup = mouseUp;\n    document.onmousemove = symbolDrag;\n  };\n\n  elem.onmousedown = mouseDown;\n}\n\nexport default selectElement;\n"],"names":["$7887d330ac74ea27$export$184efcd043fee654","current","target","offsetLeft","offsetWidth","offsetTop","offsetHeight","$7887d330ac74ea27$export$be90b058241e3ec6","clientLeft","clientWidth","clientTop","clientHeight","$b8f9b7833fa37166$var$areaDrag","document","querySelector","$b8f9b7833fa37166$var$inputSymbols","getElementById","$b8f9b7833fa37166$var$generateButton","oninput","value","length","disabled","onclick","content","trim","split","reduce","acc","s","i","concat","innerHTML","area","startX","startY","endX","endY","areaFrame","frameSelect","mouseUp","symbolElements","querySelectorAll","forEach","el","elem","dragAllow","symbolDrag","e","preventDefault","stopPropagation","ctrlKey","buttons","selectedElements","clientX","clientY","style","left","top","unSelectedElements","dragArea","onmouseup","onmousemove","classList","add","remove","dataset","homeX","homeY","unSelected","Error","error","selected","onmousedown","toggle","contains","width","height"],"version":3,"file":"index.0be6d2e4.js.map"}